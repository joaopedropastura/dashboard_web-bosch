<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
	<%- include("../template/head.ejs") %>

	<link rel="stylesheet" href="/css/telas-alunos/dash-board.css">

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
	<script src="https://d3js.org/d3.v7.min.js" defer></script>
	<script src="https://cdn.jsdelivr.net/npm/d3-scale@4" defer></script>
	<script src="/js/dash-board.js" defer></script>

	<title>Bosch Board</title>
</head>

<body onload="getDados(<%=JSON.stringify(conteudos)%>,
					   <%=JSON.stringify(conteudo_questoes)%>,
					   <%=JSON.stringify(questao)%>,
					   <%=JSON.stringify(provas)%>,
					   <%=JSON.stringify(turmas)%>,
					   <%=JSON.stringify(resultDis)%>,
					   <%=JSON.stringify(alunos)%>,
					   <%=JSON.stringify(instrutores)%>,
					   <%=JSON.stringify(SumValorQuestao)%>,
					   <%=JSON.stringify(SumNotaQuestao)%>
					   )">
	<main>
		<%- include("../template/nav-bar-aluno.ejs") %>
		<div class="box-content">
			<div id="provas">
				<form class="form2" action="/dash-board/<%=alunos[0].EDV%>">
					<div class="legenda">
						<div id="btn-legenda">
							<b><%= alunos[0].Nome %></b>
							<select id="inputProva" class="form-select" onchange="this.form.submit()" name="prova">
								<option value="invalido" >selecione uma disciplina</option>
								<% for (let i=0; i<provas.length; i++) { %>
									<% if (provas[i].Disciplina_ID == id || id == 'invalido' || id == undefined) { %>
										<option value='<%= provas[i].Disciplina_ID %>'
											<%= test == provas[i].Disciplina_ID ? 'selected' : ''%>>
											<%= provas[i].Nome %>
										</option>
									<% } %>
								<% } %>
							</select>
						</div>
					</div>
					<div class="questoes">
						<% for (let i=0; i < questao.length; i++) { %>
							<% if (questao[i].Prova_ID == id || id == 'invalido' || id == undefined) { %>
								<div class="questao">
									<button class="btn botaoQuestoes">
										<div class="teste">
											<div class="legendaQuestao"><b>Questao: <%= questao[i].Nome %> </b></div>
											<div class="legendaPreview"><b>Preview: <%= questao[i].Review %></b></div>
										</div>
										<div class="legendaNota"><b>Nota: <%= questao[i].Nota_Questao %>/<%= questao[i].Valor_Questao %></b></div>
									</button>
								</div>
							<% } %>
						<% } %>
					</div>
				</form>
			</div>
			<div id="grafos">
				<div id="menuDis">
					<form action="/dash-board/<%=alunos[0].EDV%>" name="nome" method="post">
						<select id="inputDis" class="form-select" id="disciplina" onchange="this.form.submit()" name="disciplina">
							<option value="invalido" >selecione uma disciplina</option>
							<% for (let i=0; i<resultDis.length; i++) { %>
								<option value='<%= resultDis[i].Disciplina_ID %>'
									<%= id == resultDis[i].Disciplina_ID ? 'selected' : ''%>>
									<%= resultDis[i].Nome %>
								</option>
							<% } %>
						</select>
					</form>
				</div>

				<div id="dunutChart"></div>
				<svg id="barCharts"></svg>
			</div>
		</div>

	</main>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>

</body>
</html>